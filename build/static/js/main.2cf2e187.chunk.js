(this.webpackJsonpFitnessTracker=this.webpackJsonpFitnessTracker||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(1),a=n(33),s=n.n(a),i=n(9),o=n(4),u=n(3),l=n.n(u),j=n(5),b=n(7),d=n.n(b),h="http://fitnesstrac-kr.herokuapp.com",p=(n(58),n(0));function O(){return(O=Object(j.a)(l.a.mark((function e(t,n,c){var a,s,i,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target,s=Object(r.a)(a,3),i=s[0],o=s[1],u=s[2],e.prev=3,e.next=6,d()("".concat(h,"/api/routines"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},data:{name:"".concat(i.value),goal:"".concat(o.value),isPublic:"".concat(u.checked)}});case 6:alert("Post successful\nTime to start working out!!"),location.assign("/routines"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),c("Routine already exists"),console.error(e.t0);case 14:case 15:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}var f=function(e){var t=e.token,n=Object(c.useState)(""),a=Object(r.a)(n,2),s=a[0],i=a[1],o=Object(c.useState)(""),u=Object(r.a)(o,2),l=u[0],j=u[1],b=Object(c.useState)(""),d=Object(r.a)(b,2),h=d[0],f=d[1];return Object(p.jsxs)("form",{id:"new-routine",onSubmit:function(e){return function(e,t,n){return O.apply(this,arguments)}(e,t,i)},children:[Object(p.jsx)("h3",{children:"Make A Routine"}),Object(p.jsx)("p",{className:"error",children:s}),Object(p.jsx)("label",{htmlFor:"new-name",children:"Name---"}),Object(p.jsx)("input",{id:"new-name",type:"text",placeholder:"...NAME...",required:!0,value:l,onChange:function(e){return j(e.target.value)}}),Object(p.jsx)("label",{htmlFor:"new-goal",children:"Goal---"}),Object(p.jsx)("input",{id:"new-goal",type:"text",placeholder:"...GOAL...",required:!0,value:h,onChange:function(e){return f(e.target.value)}}),Object(p.jsx)("label",{htmlFor:"public-box",children:"Public---"}),Object(p.jsx)("input",{id:"public-box",type:"checkbox"}),Object(p.jsx)("button",{id:"btn-submit",type:"submit",children:"Submit"})]})};function x(){return(x=Object(j.a)(l.a.mark((function e(t,n){var c,a,s,i,o,u,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.token,a=n.setError,s=n.routine,t.preventDefault(),i=Object(r.a)(t.target,3),o=i[0],u=i[1],j=i[2],e.prev=3,e.next=6,d()("".concat(h,"/api/routines/").concat(s.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},data:{name:"".concat(o.value),goal:"".concat(u.value),isPublic:"".concat(j.checked)}});case 6:location.assign("/routines"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),a("Routine Exists...Rename"),console.error(e.t0);case 13:case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}var m=function(e){var t=e.routine,n=e.setEditing,a=localStorage.getItem("Token"),s=Object(c.useState)(""),i=Object(r.a)(s,2),o=i[0],u=i[1],l=Object(c.useState)(""),j=Object(r.a)(l,2),b=j[0],d=j[1],h=Object(c.useState)(""),O=Object(r.a)(h,2),f=O[0],m=O[1],g={token:a,setError:u,routine:t};return Object(c.useEffect)((function(){d(t.name),m(t.goal)}),[]),Object(p.jsxs)("form",{className:"edit-routine",onSubmit:function(e){return function(e,t){return x.apply(this,arguments)}(e,g)},children:[Object(p.jsx)("h3",{children:"Edit Routine"}),Object(p.jsx)("p",{className:"error",children:o}),Object(p.jsx)("label",{htmlFor:"edit-name",children:"Name:"}),Object(p.jsx)("input",{className:"edit-name",type:"text",placeholder:"NAME",required:!0,value:b,onChange:function(e){return d(e.target.value)}}),Object(p.jsx)("label",{htmlFor:"edit-goal",children:"Goal:"}),Object(p.jsx)("input",{className:"edit-goal",type:"text",placeholder:"GOAL",required:!0,value:f,onChange:function(e){return m(e.target.value)}}),Object(p.jsx)("label",{htmlFor:"edit-public",children:"Public:"}),Object(p.jsx)("input",{className:"edit-public",type:"checkbox",defaultChecked:t.isPublic}),Object(p.jsx)("button",{className:"sub-edits",type:"submit",children:"Post"}),Object(p.jsx)("button",{className:"cancel",type:"button",onClick:function(e){e.preventDefault(),n(!1)},children:"Cancel"})]})};function g(){return(g=Object(j.a)(l.a.mark((function e(t,n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.token,c=n.routine,t.preventDefault(),e.prev=2,e.next=5,d()("".concat(h,"/api/routines/").concat(c.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 5:e.sent,location.assign("/routines"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var v=function(e){var t=e.routine,n=e.setDeleting,r={token:localStorage.getItem("Token"),routine:t};return Object(p.jsxs)("form",{className:"delete-routine",onSubmit:function(e){return function(e,t){return g.apply(this,arguments)}(e,r)},children:[Object(p.jsx)("h3",{children:"Delete Your Routine"}),Object(p.jsx)("button",{className:"sub-edits",type:"submit",children:"YES"}),Object(p.jsx)("button",{className:"cancel",type:"button",onClick:function(e){e.preventDefault(),n(!1)},children:"NO"})]})};n(29);function y(){return(y=Object(j.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat(h,"/api/routines"));case 2:n=e.sent,r=n.data,t(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){var t=e.routine,n=e.user;t.isOwner=function(e,t){return!(!t||e.creatorName!==t)}(t,n);var a=Object(c.useState)(!1),s=Object(r.a)(a,2),i=s[0],o=s[1],u=Object(c.useState)(!1),l=Object(r.a)(u,2),j=l[0],b=l[1],d=t.activities,h=d.map((function(e,t){return Object(p.jsx)(w,{activity:e},t)}));return Object(p.jsxs)("div",{className:"routine",children:[Object(p.jsx)("h1",{children:t.name}),Object(p.jsxs)("h2",{children:["Creator: ",t.creatorName]}),Object(p.jsxs)("h3",{children:["Goal: ",t.goal]}),d.length>0?Object(p.jsxs)("ul",{children:["Activities:",h]}):null,t.isOwner?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{onClick:function(){return o(!0)},children:"Edit"}),Object(p.jsx)("button",{onClick:function(){return b(!0)},children:"Delete"})]}):null,i?Object(p.jsx)(m,{routine:t,setEditing:o}):null,j?Object(p.jsx)(v,{routine:t,setDeleting:b}):null]})},w=function(e){var t=e.activity;return Object(p.jsxs)("li",{className:"activity",children:[Object(p.jsxs)("h3",{children:["Name: ",t.name]}),Object(p.jsxs)("h3",{children:["Description: ",t.description]}),Object(p.jsxs)("h3",{children:["Count: ",t.count]}),Object(p.jsxs)("h3",{children:["Duration: ",t.duration," minutes"]})]})},S=function(e){var t=e.loggedIn,n=localStorage.getItem("User"),a=localStorage.getItem("Token"),s=Object(c.useState)([]),i=Object(r.a)(s,2),o=i[0],u=i[1],l=Object(c.useState)(0),j=Object(r.a)(l,2),b=j[0],d=j[1];Object(c.useEffect)((function(){!function(e){y.apply(this,arguments)}(u)}),[]);var h=o.slice(0+20*b,20*b+20).map((function(e,t){return Object(p.jsx)(k,{routine:e,user:n},t)}));return Object(p.jsxs)("div",{id:"routine-list",children:[Object(p.jsx)("button",{onClick:function(){return d(b+1)},children:"Next 20"}),t?Object(p.jsx)(f,{token:a}):null,h]})};function I(){return(I=Object(j.a)(l.a.mark((function e(t,n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat(h,"/api/users/").concat(t,"/routines"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 2:return r=e.sent,c=r.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){var t=e.routine,n=Object(c.useState)(!1),a=Object(r.a)(n,2),s=a[0],i=a[1],o=Object(c.useState)(!1),u=Object(r.a)(o,2),l=u[0],j=u[1],b=t.activities,d=b.map((function(e,t){return Object(p.jsx)(C,{activity:e},t)}));return Object(p.jsxs)("div",{className:"routine",children:[Object(p.jsx)("h1",{children:t.name}),Object(p.jsxs)("h2",{children:["Creator: ",t.creatorName]}),Object(p.jsxs)("h3",{children:["Goal: ",t.goal]}),b.length>0?Object(p.jsxs)("ul",{children:["Activities:",d]}):null,Object(p.jsx)("button",{onClick:function(){return i(!0)},children:"Edit"}),Object(p.jsx)("button",{onClick:function(){return j(!0)},children:"Delete"}),s?Object(p.jsx)(m,{routine:t,setEditing:i}):null,l?Object(p.jsx)(v,{routine:t,setDeleting:j}):null]})},C=function(e){var t=e.activity;return Object(p.jsxs)("li",{className:"activity",children:[Object(p.jsxs)("h3",{children:["Name: ",t.name]}),Object(p.jsxs)("h3",{children:["Description: ",t.description]}),Object(p.jsxs)("h3",{children:["Count: ",t.count]}),Object(p.jsxs)("h3",{children:["Duration: ",t.duration]})]})},E=function(){var e=localStorage.getItem("User"),t=localStorage.getItem("Token"),n=Object(c.useState)([]),a=Object(r.a)(n,2),s=a[0],i=a[1];Object(c.useEffect)((function(){!function(e,t){I.apply(this,arguments)}(i)}),[]);var o=s.map((function(t,n){return Object(p.jsx)(N,{routine:t,user:e},n)}));return Object(p.jsxs)("div",{id:"routine-list",children:[Object(p.jsx)(f,{token:t}),o]})};n(30);function P(){return D.apply(this,arguments)}function D(){return(D=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat(h,"/api/activities"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(e){e.loggedIn;var t=Object(c.useState)([]),n=Object(r.a)(t,2),a=n[0],s=n[1];Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var i=function(e){return e.map((function(e,t){return Object(p.jsxs)("div",{className:"activity",children:[Object(p.jsxs)("h1",{children:["Name: ",e.name]}),Object(p.jsxs)("h1",{children:["Description: ",e.description]})]},t)}))}(a);return Object(p.jsx)("div",{id:"activity-list",children:i})};n(31);function F(){return(F=Object(j.a)(l.a.mark((function e(t){var n,r,c,a,s,i,o,u,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.history,r=t.setError,c=t.name,a=t.setName,s=t.password,i=t.setPassword,o=t.setLoggedIn,e.prev=1,e.next=4,d()({method:"POST",url:"".concat(h,"/api/users/login"),data:{username:"".concat(c),password:"".concat(s)}});case 4:u=e.sent,j=u.data,localStorage.setItem("Token",j.token),localStorage.setItem("User",j.user.username),o(!0),n.push("/"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),r("Username/Password is invalid"),a(""),i("");case 17:case 18:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var L=function(e){var t=e.loggedIn,n=e.setLoggedIn,a=Object(o.f)(),s=Object(c.useState)(""),u=Object(r.a)(s,2),l=u[0],j=u[1],b=Object(c.useState)(""),d=Object(r.a)(b,2),h=d[0],O=d[1],f=Object(c.useState)(""),x=Object(r.a)(f,2),m=x[0],g=x[1];Object(c.useEffect)((function(){t&&location.assign("/")}),[]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{id:"log-in",onSubmit:function(e){e.preventDefault(),function(e){F.apply(this,arguments)}({history:a,setError:j,name:h,setName:O,password:m,setPassword:g,setLoggedIn:n})},children:[Object(p.jsx)("h3",{children:"Log In"}),Object(p.jsx)("p",{className:"error",children:l}),Object(p.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(p.jsx)("input",{type:"text",placeholder:"USERNAME",minLength:4,required:!0,value:h,onChange:function(e){return O(e.target.value)}}),Object(p.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(p.jsx)("input",{type:"password",placeholder:"PASSWORD",minLength:8,required:!0,value:m,onChange:function(e){return g(e.target.value)}}),Object(p.jsx)("button",{id:"btn-login",type:"submit",children:"Log In"}),Object(p.jsxs)("p",{children:["Need an account--- ",Object(p.jsx)(i.b,{id:"sign-up",to:"/register",children:"Join Now"})]})]})})};function A(){return(A=Object(j.a)(l.a.mark((function e(t){var n,r,c,a,s,i,o,u,j,b,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.history,r=t.setError,c=t.name,a=t.setName,s=t.password,i=t.setPassword,o=t.confirmPassword,u=t.setConfirmPassword,j=t.setLoggedIn,e.prev=1,s===o){e.next=6;break}return i(""),u(""),e.abrupt("return",r("Passwords do not match, please try again"));case 6:return e.next=9,d()({method:"POST",url:"".concat(h,"/api/users/register"),data:{username:"".concat(c),password:"".concat(s)}});case 9:b=e.sent,p=b.data,localStorage.setItem("Token",p.token),localStorage.setItem("User",p.user.username),j(!0),n.push("/"),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(1),r("Duplicate Username try a different name"),a(""),i(""),u("");case 23:case 24:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}var R=function(e){var t=e.loggedIn,n=e.setLoggedIn,a=Object(o.f)(),s=Object(c.useState)(""),u=Object(r.a)(s,2),l=u[0],j=u[1],b=Object(c.useState)(""),d=Object(r.a)(b,2),h=d[0],O=d[1],f=Object(c.useState)(""),x=Object(r.a)(f,2),m=x[0],g=x[1],v=Object(c.useState)(""),y=Object(r.a)(v,2),k=y[0],w=y[1];Object(c.useEffect)((function(){t&&location.assign("/")}),[]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{id:"register",onSubmit:function(e){e.preventDefault(),function(e){A.apply(this,arguments)}({history:a,setError:j,name:h,setName:O,password:m,setPassword:g,confirmPassword:k,setConfirmPassword:w,setLoggedIn:n})},children:[Object(p.jsx)("h3",{children:"Registration---"}),Object(p.jsx)("p",{className:"error",children:l}),Object(p.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(p.jsx)("input",{type:"text",placeholder:"USERNAME:",minLength:4,required:!0,value:h,onChange:function(e){return O(e.target.value)}}),Object(p.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(p.jsx)("input",{type:"password",placeholder:"PASSWORD:",minLength:8,required:!0,value:m,onChange:function(e){return g(e.target.value)}}),Object(p.jsx)("label",{htmlFor:"pass-confirm",children:"Confirm Password:"}),Object(p.jsx)("input",{type:"password",placeholder:"CONFIRM PASSWORD:",minLength:8,required:!0,value:k,onChange:function(e){return w(e.target.value)}}),Object(p.jsx)("button",{id:"btn-login",type:"submit",children:"Submit Registration"}),Object(p.jsxs)("p",{children:["Already Registered ",Object(p.jsx)(i.b,{id:"log-in",to:"/login",children:"Log In"})]})]})})},U=(n(73),function(){return Object(p.jsx)("footer",{id:"foot",children:Object(p.jsx)("h1",{children:"Footer"})})}),q=(n(74),function(e){var t=e.loggedIn,n=e.logOut;return Object(p.jsx)("div",{children:Object(p.jsxs)("header",{id:"header",children:[Object(p.jsx)("h1",{id:"headertitle",children:"Fitness Tracker 3000"}),Object(p.jsx)("div",{id:"nav",children:Object(p.jsxs)("div",{id:"links",children:[Object(p.jsx)(i.b,{to:"/",children:"Home"}),Object(p.jsx)(i.b,{to:"/activities",children:"Activities"}),Object(p.jsx)(i.b,{to:"/routines",children:"Routines"}),t?Object(p.jsx)(i.b,{to:"/my-routines",children:"My Routines"}):null,t?Object(p.jsx)("button",{onClick:n,children:"Log Out"}):null,t?null:Object(p.jsx)(i.b,{to:"/login",children:"LogIn / Join"})]})})]})})});function M(e){return B.apply(this,arguments)}function B(){return(B=Object(j.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat(h,"/api/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(e){var t=e.loggedIn,n=localStorage.getItem("Token"),a=Object(c.useState)({}),s=Object(r.a)(a,2),i=s[0],o=s[1];Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,M(n);case 3:t=e.sent,o(t);case 5:case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var u=function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("h1",{id:"motivate",children:["Keep up the goodwork ",e.username]})})}(i);return Object(p.jsx)("div",{id:"user-info",children:t?u:null})};n(75);var z=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){!function(e){if(localStorage.getItem("User")&&localStorage.getItem("Token"))e(!0)}(a)}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{id:"app",children:[Object(p.jsx)("div",{id:"background"}),Object(p.jsxs)(i.a,{children:[Object(p.jsx)(q,{loggedIn:n,logOut:function(e){e.preventDefault(),localStorage.removeItem("User"),localStorage.removeItem("Token"),location.assign("/")}}),Object(p.jsx)("main",{children:Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{path:"/activities",render:function(){return Object(p.jsx)(T,{loggedIn:n})}}),Object(p.jsx)(o.a,{path:"/login",render:function(){return Object(p.jsx)(L,{loggedIn:n,setLoggedIn:a})}}),Object(p.jsx)(o.a,{path:"/my-routines",component:E}),Object(p.jsx)(o.a,{path:"/register",render:function(){return Object(p.jsx)(R,{loggedIn:n,setLoggedIn:a})}}),Object(p.jsx)(o.a,{path:"/routines",render:function(){return Object(p.jsx)(S,{loggedIn:n})}}),Object(p.jsx)(o.a,{path:"/",render:function(){return Object(p.jsx)(G,{loggedIn:n})}})]})})]})]}),Object(p.jsx)(U,{})]})};s.a.render(Object(p.jsx)(z,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.2cf2e187.chunk.js.map